(this["webpackJsonpglide-frontend"]=this["webpackJsonpglide-frontend"]||[]).push([[1],{826:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c}));Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_ID:"20",REACT_APP_INFURA_KEY:"d3649643a26e40ac95d47a1b929d3596",REACT_APP_NODE_1:"https://escrpc.elaphant.app",REACT_APP_NODE_2:"https://api.elastos.io/eth",REACT_APP_NODE_3:"https://api.trinity-tech.cn/eth",REACT_APP_NODE_4:"https://rpc.glidefinance.io"}).REACT_APP_GRAPH_API_PROFILE,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_ID:"20",REACT_APP_INFURA_KEY:"d3649643a26e40ac95d47a1b929d3596",REACT_APP_NODE_1:"https://escrpc.elaphant.app",REACT_APP_NODE_2:"https://api.elastos.io/eth",REACT_APP_NODE_3:"https://api.trinity-tech.cn/eth",REACT_APP_NODE_4:"https://rpc.glidefinance.io"}).REACT_APP_GRAPH_API_PREDICTION,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_ID:"20",REACT_APP_INFURA_KEY:"d3649643a26e40ac95d47a1b929d3596",REACT_APP_NODE_1:"https://escrpc.elaphant.app",REACT_APP_NODE_2:"https://api.elastos.io/eth",REACT_APP_NODE_3:"https://api.trinity-tech.cn/eth",REACT_APP_NODE_4:"https://rpc.glidefinance.io"}).REACT_APP_GRAPH_API_LOTTERY,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_ID:"20",REACT_APP_INFURA_KEY:"d3649643a26e40ac95d47a1b929d3596",REACT_APP_NODE_1:"https://escrpc.elaphant.app",REACT_APP_NODE_2:"https://api.elastos.io/eth",REACT_APP_NODE_3:"https://api.trinity-tech.cn/eth",REACT_APP_NODE_4:"https://rpc.glidefinance.io"}).REACT_APP_SNAPSHOT_VOTING_API;var r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_ID:"20",REACT_APP_INFURA_KEY:"d3649643a26e40ac95d47a1b929d3596",REACT_APP_NODE_1:"https://escrpc.elaphant.app",REACT_APP_NODE_2:"https://api.elastos.io/eth",REACT_APP_NODE_3:"https://api.trinity-tech.cn/eth",REACT_APP_NODE_4:"https://rpc.glidefinance.io"}).REACT_APP_SNAPSHOT_BASE_URL,a=("".concat(r,"/graphql"),"".concat(r,"/api/message"),"https://api.glidefinance.io"),o="https://api.glidefinance.io/subgraphs/name/glide/exchange",c="https://api.glidefinance.io/subgraphs/name/glide/blocks"},829:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return d})),n.d(e,"g",(function(){return l}));var r=2,a=52.1429,o=.0025,c=5e-4,u=1635919200,i=86400,s=3600,d=10,l=["0x"]},832:function(t,e,n){"use strict";n.d(e,"j",(function(){return M})),n.d(e,"i",(function(){return Y})),n.d(e,"k",(function(){return G})),n.d(e,"c",(function(){return z})),n.d(e,"q",(function(){return Q})),n.d(e,"a",(function(){return X})),n.d(e,"f",(function(){return Z})),n.d(e,"e",(function(){return tt})),n.d(e,"g",(function(){return et})),n.d(e,"d",(function(){return nt})),n.d(e,"r",(function(){return rt})),n.d(e,"b",(function(){return at})),n.d(e,"n",(function(){return ot})),n.d(e,"m",(function(){return ct})),n.d(e,"h",(function(){return ut})),n.d(e,"l",(function(){return it})),n.d(e,"o",(function(){return st})),n.d(e,"p",(function(){return dt}));var r,a,o,c,u,i,s=n(14),d=n(7),l=n(3),p=n.n(l),b=n(1),f=n(32),v=n(1030),m=n(1032),O=n(1033),j=n(41),k=n(10),h=n(827),D=n(826),y=n(829),S=n(843),A=function(){var t=Object(s.a)(p.a.mark((function t(e,n){var a,o,c,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(h.gql)(r||(r=Object(k.a)(["\n      query pairDayDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {\n        pairDayDatas(\n          first: 1000\n          skip: $skip\n          where: { pairAddress: $address, date_gt: $startTime }\n          orderBy: date\n          orderDirection: asc\n        ) {\n          date\n          dailyVolumeUSD\n          reserveUSD\n        }\n      }\n    "]))),t.next=4,Object(h.request)(D.c,a,{startTime:y.f,skip:e,address:n});case 4:return o=t.sent,c=o.pairDayDatas,u=c.map(S.e),t.abrupt("return",{data:u,error:!1});case 10:return t.prev=10,t.t0=t.catch(0),console.error("Failed to fetch pool chart data",t.t0),t.abrupt("return",{error:!0});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),_=function(){var t=Object(s.a)(p.a.mark((function t(e){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(S.a)(A,e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=_,w=n(44),P=Object(h.gql)(a||(a=Object(k.a)(["\n  query poolTransactions($address: Bytes!) {\n    mints(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    swaps(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    burns(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n  }\n"]))),T=function(){var t=Object(s.a)(p.a.mark((function t(e){var n,r,a,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(h.request)(D.c,P,{address:e});case 3:return n=t.sent,r=n.mints.map(S.d),a=n.burns.map(S.b),o=n.swaps.map(S.f),t.abrupt("return",{data:[].concat(Object(w.a)(r),Object(w.a)(a),Object(w.a)(o)),error:!1});case 10:return t.prev=10,t.t0=t.catch(0),console.error("Failed to fetch transactions for pool ".concat(e),t.t0),t.abrupt("return",{error:!0});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),U=T,g=function(){var t=Object(s.a)(p.a.mark((function t(e,n){var r,a,c,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=Object(h.gql)(o||(o=Object(k.a)(["\n      query tokenDayDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {\n        tokenDayDatas(\n          first: 1000\n          skip: $skip\n          where: { token: $address, date_gt: $startTime }\n          orderBy: date\n          orderDirection: asc\n        ) {\n          date\n          dailyVolumeUSD\n          totalLiquidityUSD\n        }\n      }\n    "]))),t.next=4,Object(h.request)(D.c,r,{startTime:y.f,skip:e,address:n});case 4:return a=t.sent,c=a.tokenDayDatas,u=c.map(S.c),t.abrupt("return",{data:u,error:!1});case 10:return t.prev=10,t.t0=t.catch(0),console.error("Failed to fetch token chart data",t.t0),t.abrupt("return",{error:!0});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),x=function(){var t=Object(s.a)(p.a.mark((function t(e){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(S.a)(g,e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=x,C=Object(h.gql)(c||(c=Object(k.a)(["\n  query tokenTransactions($address: Bytes!) {\n    mintsAs0: mints(first: 10, orderBy: timestamp, orderDirection: desc, where: { token0: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    mintsAs1: mints(first: 10, orderBy: timestamp, orderDirection: desc, where: { token0: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    swapsAs0: swaps(first: 10, orderBy: timestamp, orderDirection: desc, where: { token0: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    swapsAs1: swaps(first: 10, orderBy: timestamp, orderDirection: desc, where: { token1: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    burnsAs0: burns(first: 10, orderBy: timestamp, orderDirection: desc, where: { token0: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n    burnsAs1: burns(first: 10, orderBy: timestamp, orderDirection: desc, where: { token1: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n  }\n"]))),q=function(){var t=Object(s.a)(p.a.mark((function t(e){var n,r,a,o,c,u,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(h.request)(D.c,C,{address:e});case 3:return n=t.sent,r=n.mintsAs0.map(S.d),a=n.mintsAs1.map(S.d),o=n.burnsAs0.map(S.b),c=n.burnsAs1.map(S.b),u=n.swapsAs0.map(S.f),i=n.swapsAs1.map(S.f),t.abrupt("return",{data:[].concat(Object(w.a)(r),Object(w.a)(a),Object(w.a)(o),Object(w.a)(c),Object(w.a)(u),Object(w.a)(i)),error:!1});case 13:return t.prev=13,t.t0=t.catch(0),console.error("Failed to fetch transactions for token ".concat(e),t.t0),t.abrupt("return",{error:!0});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),R=q,I=n(846),N=n(837),$=function(t,e){return e.map((function(e){return"\n      t".concat(e.timestamp,':token(id:"').concat(t,'", block: { number: ').concat(e.number," }) { \n        derivedELA\n      }\n      b").concat(e.timestamp,': bundle(id:"1", block: { number: ').concat(e.number," }) { \n        elaPrice\n      }\n    ")}))},L=function(t){return Object(h.gql)(u||(u=Object(k.a)(["\n    query tokenPriceData {\n      ","\n    }\n  "])),t)},B=function(){var t=Object(s.a)(p.a.mark((function t(e,n,r){var a,o,c,u,i,s,d,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=Object(v.a)(new Date),o=[],c=r;c<=a;)o.push(c),c+=n;return t.prev=4,t.next=7,Object(I.a)(o,"asc",500);case 7:if((u=t.sent)&&0!==u.length){t.next=11;break}return console.error("Error fetching blocks for timestamps",o),t.abrupt("return",{error:!1});case 11:return t.next=13,Object(N.b)(L,$(e,u),D.c,200);case 13:if(i=t.sent){t.next=17;break}return console.error("Price data failed to load"),t.abrupt("return",{error:!1});case 17:for(s=[],Object.keys(i).forEach((function(t){var e,n=t.split("t")[1];n&&s.push({timestamp:n,derivedELA:null!==(e=i[t])&&void 0!==e&&e.derivedELA?parseFloat(i[t].derivedELA):0,priceUSD:0})})),Object.keys(i).forEach((function(t){var e=t.split("b")[1];if(e){var n=s.findIndex((function(t){return t.timestamp===e}));if(n>=0){var r,a,o=s[n].derivedELA;s[n].priceUSD=parseFloat(null!==(r=null===(a=i[t])||void 0===a?void 0:a.elaPrice)&&void 0!==r?r:0)*o}}})),s.sort((function(t,e){return parseInt(t.timestamp,10)-parseInt(e.timestamp,10)})),d=[],l=0;l<s.length-1;l++)d.push({time:parseFloat(s[l].timestamp),open:s[l].priceUSD,close:s[l+1].priceUSD,high:s[l+1].priceUSD,low:s[l].priceUSD});return t.abrupt("return",{data:d,error:!1});case 26:return t.prev=26,t.t0=t.catch(4),console.error("Failed to fetch price data for token ".concat(e),t.t0),t.abrupt("return",{error:!0});case 30:case"end":return t.stop()}}),t,null,[[4,26]])})));return function(e,n,r){return t.apply(this,arguments)}}(),W=B,V=Object(h.gql)(i||(i=Object(k.a)(["\n  query poolsForToken($address: Bytes!, $blacklist: [String!]) {\n    asToken0: pairs(\n      first: 15\n      orderBy: trackedReserveELA\n      orderDirection: desc\n      where: { totalTransactions_gt: 100, token0: $address, token1_not_in: $blacklist }\n    ) {\n      id\n    }\n    asToken1: pairs(\n      first: 15\n      orderBy: trackedReserveELA\n      orderDirection: desc\n      where: { totalTransactions_gt: 100, token1: $address, token0_not_in: $blacklist }\n    ) {\n      id\n    }\n  }\n"]))),H=function(){var t=Object(s.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(h.request)(D.c,V,{address:e,blacklist:y.g});case 3:return n=t.sent,t.abrupt("return",{error:!1,addresses:n.asToken0.concat(n.asToken1).map((function(t){return t.id}))});case 7:return t.prev=7,t.t0=t.catch(0),console.error("Failed to fetch pools for token ".concat(e),t.t0),t.abrupt("return",{error:!0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),K=H,J=n(114),M=function(){var t=Object(f.c)((function(t){return t.info.protocol.overview})),e=Object(f.b)();return[t,Object(b.useCallback)((function(t){return e(Object(J.h)({protocolData:t}))}),[e])]},Y=function(){var t=Object(f.c)((function(t){return t.info.protocol.chartData})),e=Object(f.b)();return[t,Object(b.useCallback)((function(t){return e(Object(J.g)({chartData:t}))}),[e])]},G=function(){var t=Object(f.c)((function(t){return t.info.protocol.transactions})),e=Object(f.b)();return[t,Object(b.useCallback)((function(t){return e(Object(J.i)({transactions:t}))}),[e])]},z=function(){return Object(f.c)((function(t){return t.info.pools.byAddress}))},Q=function(){var t=Object(f.b)();return Object(b.useCallback)((function(e){return t(Object(J.e)({pools:e}))}),[t])},X=function(){var t=Object(f.b)();return Object(b.useCallback)((function(e){return t(Object(J.a)({poolAddresses:e}))}),[t])},Z=function(t){var e=z(),n=X(),r=t.reduce((function(t,n){return Object.keys(e).includes(n)||t.push(n),t}),[]);return Object(b.useEffect)((function(){r&&n(r)}),[n,r]),t.map((function(t){var n;return null===(n=e[t])||void 0===n?void 0:n.data})).filter((function(t){return t}))},tt=function(t){var e=Object(f.b)(),n=Object(f.c)((function(e){return e.info.pools.byAddress[t]})),r=null===n||void 0===n?void 0:n.chartData,a=Object(b.useState)(!1),o=Object(d.a)(a,2),c=o[0],u=o[1];return Object(b.useEffect)((function(){var n=function(){var n=Object(s.a)(p.a.mark((function n(){var r,a,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E(t);case 2:r=n.sent,a=r.error,o=r.data,!a&&o&&e(Object(J.d)({poolAddress:t,chartData:o})),a&&u(a);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();r||c||n()}),[t,e,c,r]),r},et=function(t){var e=Object(f.b)(),n=Object(f.c)((function(e){return e.info.pools.byAddress[t]})),r=null===n||void 0===n?void 0:n.transactions,a=Object(b.useState)(!1),o=Object(d.a)(a,2),c=o[0],u=o[1];return Object(b.useEffect)((function(){var n=function(){var n=Object(s.a)(p.a.mark((function n(){var r,a,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U(t);case 2:r=n.sent,a=r.error,o=r.data,a?u(!0):e(Object(J.f)({poolAddress:t,transactions:o}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();r||c||n()}),[t,e,c,r]),r},nt=function(){return Object(f.c)((function(t){return t.info.tokens.byAddress}))},rt=function(){var t=Object(f.b)();return Object(b.useCallback)((function(e){t(Object(J.k)({tokens:e}))}),[t])},at=function(){var t=Object(f.b)();return Object(b.useCallback)((function(e){return t(Object(J.b)({tokenAddresses:e}))}),[t])},ot=function(t){var e=nt(),n=at();return null===t||void 0===t||t.forEach((function(t){e[t]||n([t])})),Object(b.useMemo)((function(){if(t)return t.map((function(t){var n;return null===(n=e[t])||void 0===n?void 0:n.data})).filter((function(t){return t}))}),[t,e])},ct=function(t){var e,n=nt(),r=at();if(t&&Object(j.h)(t))return n[t]||r([t]),null===(e=n[t])||void 0===e?void 0:e.data},ut=function(t){var e=Object(f.b)(),n=Object(f.c)((function(e){return e.info.tokens.byAddress[t]})).poolAddresses,r=Object(b.useState)(!1),a=Object(d.a)(r,2),o=a[0],c=a[1];return Object(b.useEffect)((function(){var r=function(){var n=Object(s.a)(p.a.mark((function n(){var r,a,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K(t);case 2:r=n.sent,a=r.error,o=r.addresses,!a&&o&&e(Object(J.c)({tokenAddress:t,poolAddresses:o})),a&&c(a);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n||o||r()}),[t,e,o,n]),n},it=function(t){var e=Object(f.b)(),n=Object(f.c)((function(e){return e.info.tokens.byAddress[t]})).chartData,r=Object(b.useState)(!1),a=Object(d.a)(r,2),o=a[0],c=a[1];return Object(b.useEffect)((function(){var r=function(){var n=Object(s.a)(p.a.mark((function n(){var r,a,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F(t);case 2:r=n.sent,a=r.error,o=r.data,!a&&o&&e(Object(J.j)({tokenAddress:t,chartData:o})),a&&c(a);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n||o||r()}),[t,e,o,n]),n},st=function(t,e,n){var r=Object(f.b)(),a=Object(f.c)((function(e){return e.info.tokens.byAddress[t]})),o=a.priceData[e],c=Object(b.useState)(!1),u=Object(d.a)(c,2),i=u[0],l=u[1],j=a.priceData.oldestFetchedTimestamp,k=1e3*Object(v.a)(new Date),h=Object(v.a)(Object(m.a)(Object(O.a)(k,n)));return Object(b.useEffect)((function(){var n=function(){var n=Object(s.a)(p.a.mark((function n(){var a,o,c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W(t,e,h);case 2:a=n.sent,o=a.data,c=a.error,o&&r(Object(J.l)({tokenAddress:t,secondsInterval:e,priceData:o,oldestFetchedTimestamp:h})),c&&l(!0);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();o||i||n()}),[t,r,i,e,j,o,h,n]),o},dt=function(t){var e=Object(f.b)(),n=Object(f.c)((function(e){return e.info.tokens.byAddress[t]})).transactions,r=Object(b.useState)(!1),a=Object(d.a)(r,2),o=a[0],c=a[1];return Object(b.useEffect)((function(){var r=function(){var n=Object(s.a)(p.a.mark((function n(){var r,a,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R(t);case 2:r=n.sent,a=r.error,o=r.data,a?c(!0):o&&e(Object(J.m)({tokenAddress:t,transactions:o}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n||o||r()}),[t,e,o,n]),n}},837:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return b}));var r=n(6),a=n(14),o=n(3),c=n.n(o),u=n(1030),i=n(1031),s=n(511),d=n(730),l=n(827),p=function(){var t=Object(a.a)(c.a.mark((function t(e,n,a){var o,u,i,s,d,p,b,f=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=f.length>3&&void 0!==f[3]?f[3]:1e3,u={},i=!1,s=0,t.prev=4;case 5:if(i){t.next=17;break}return d=n.length,s+o<n.length&&(d=s+o),p=n.slice(s,d),t.next=11,Object(l.request)(a,e(p));case 11:b=t.sent,u=Object(r.a)(Object(r.a)({},u),b),i=Object.keys(b).length<o||s+o>n.length,s+=o,t.next=5;break;case 17:return t.abrupt("return",u);case 20:return t.prev=20,t.t0=t.catch(4),console.error("Failed to fetch info data",t.t0),t.abrupt("return",null);case 24:case"end":return t.stop()}}),t,null,[[4,20]])})));return function(e,n,r){return t.apply(this,arguments)}}(),b=function(){var t=1e3*Object(u.a)(new Date);return[Object(u.a)(Object(i.a)(Object(s.default)(t,1))),Object(u.a)(Object(i.a)(Object(s.default)(t,2))),Object(u.a)(Object(i.a)(Object(d.default)(t,1))),Object(u.a)(Object(i.a)(Object(d.default)(t,2)))]}},843:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return p})),n.d(e,"f",(function(){return b})),n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return m}));var r=n(16),a=n(6),o=n(14),c=n(3),u=n.n(c),i=n(829),s=n(1030),d=n(885),l=function(t){return{type:d.a.MINT,hash:t.id.split("-")[0],timestamp:t.timestamp,sender:t.to,token0Symbol:t.pair.token0.symbol,token1Symbol:t.pair.token1.symbol,token0Address:t.pair.token0.id,token1Address:t.pair.token1.id,amountUSD:parseFloat(t.amountUSD),amountToken0:parseFloat(t.amount0),amountToken1:parseFloat(t.amount1)}},p=function(t){return{type:d.a.BURN,hash:t.id.split("-")[0],timestamp:t.timestamp,sender:t.sender,token0Symbol:t.pair.token0.symbol,token1Symbol:t.pair.token1.symbol,token0Address:t.pair.token0.id,token1Address:t.pair.token1.id,amountUSD:parseFloat(t.amountUSD),amountToken0:parseFloat(t.amount0),amountToken1:parseFloat(t.amount1)}},b=function(t){return{type:d.a.SWAP,hash:t.id.split("-")[0],timestamp:t.timestamp,sender:t.from,token0Symbol:t.pair.token0.symbol,token1Symbol:t.pair.token1.symbol,token0Address:t.pair.token0.id,token1Address:t.pair.token1.id,amountUSD:parseFloat(t.amountUSD),amountToken0:parseFloat(t.amount0In)-parseFloat(t.amount0Out),amountToken1:parseFloat(t.amount1In)-parseFloat(t.amount1Out)}},f=function(t){return{date:t.date,volumeUSD:parseFloat(t.dailyVolumeUSD),liquidityUSD:parseFloat(t.totalLiquidityUSD)}},v=function(t){return{date:t.date,volumeUSD:parseFloat(t.dailyVolumeUSD),liquidityUSD:parseFloat(t.reserveUSD)}},m=function(){var t=Object(o.a)(u.a.mark((function t(e,n){var o,c,d,l,p,b,f,v,m,O,j,k,h,D,y,S;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d=[],l=!1,p=0,b=!1;case 4:if(b){t.next=16;break}return t.next=7,e(p,n);case 7:f=t.sent,v=f.data,m=f.error,p+=1e3,b=v.length<1e3,l=m,v&&(d=d.concat(v)),t.next=4;break;case 16:if(!l&&0!==d.length){t.next=18;break}return t.abrupt("return",{error:!0});case 18:for(O=d.reduce((function(t,e){var n=parseInt((e.date/i.d).toFixed(0));return Object(a.a)(Object(r.a)({},n,e),t)}),{}),j=Object.keys(O).map((function(t){return parseInt(t,10)})),k=O[j[0]],h=null!==(o=null===k||void 0===k?void 0:k.date)&&void 0!==o?o:i.f,D=null!==(c=null===k||void 0===k?void 0:k.liquidityUSD)&&void 0!==c?c:0,y=Object(s.a)(new Date);h<y-i.d;)h+=i.d,S=parseInt((h/i.d).toFixed(0),10),Object.keys(O).includes(S.toString())?D=O[S].liquidityUSD:O[S]={date:h,volumeUSD:0,liquidityUSD:D};return t.abrupt("return",{data:Object.values(O),error:!1});case 26:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},846:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return m}));var r,a=n(7),o=n(14),c=n(10),u=n(3),i=n.n(u),s=n(827),d=n(1),l=n(837),p=n(826),b=function(t){return t.map((function(t){return"t".concat(t,":blocks(first: 1, orderBy: timestamp, orderDirection: desc, where: { timestamp_gt: ").concat(t,", timestamp_lt: ").concat(t+600," }) {\n      number\n    }")}))},f=function(t){return Object(s.gql)(r||(r=Object(c.a)(["query blocks {\n    ","\n  }"])),t)},v=function(){var t=Object(o.a)(i.a.mark((function t(e){var n,r,a,o,c,u,s,d,v=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=v.length>1&&void 0!==v[1]?v[1]:"desc",r=v.length>2&&void 0!==v[2]?v[2]:500,0!==(null===e||void 0===e?void 0:e.length)){t.next=4;break}return t.abrupt("return",[]);case 4:return t.next=6,Object(l.b)(f,b(e),p.a,r);case 6:if(a=t.sent,o="desc"===n?function(t,e){return e.number-t.number}:function(t,e){return t.number-e.number},c=[],a){for(u=0,s=Object.keys(a);u<s.length;u++)d=s[u],a[d].length>0&&c.push({timestamp:d.split("t")[1],number:parseInt(a[d][0].number,10)});c.sort(o)}return t.abrupt("return",c);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=Object(d.useState)(),c=Object(a.a)(r,2),u=c[0],s=c[1],l=Object(d.useState)(!1),p=Object(a.a)(l,2),b=p[0],f=p[1],m=JSON.stringify(t),O=u?JSON.stringify(u):void 0;return Object(d.useEffect)((function(){var t=function(){var t=Object(o.a)(i.a.mark((function t(){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(m),t.next=3,v(r,e,n);case 3:0===(a=t.sent).length?f(!0):s(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(O?JSON.parse(O):void 0)||b||t()}),[O,b,n,e,m]),{blocks:u,error:b}}},885:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t[t.SWAP=0]="SWAP",t[t.MINT=1]="MINT",t[t.BURN=2]="BURN"}(r||(r={}))},924:function(t,e,n){"use strict";n.d(e,"b",(function(){return Z})),n.d(e,"a",(function(){return tt})),n.d(e,"c",(function(){return et}));var r,a,o,c,u,i,s,d,l=n(14),p=n(7),b=n(3),f=n.n(b),v=n(1),m=n(10),O=n(827),j=n(826),k=n(829),h=function(t,e){return t&&e?t-e:t||0},D=function(t,e){return t&&e?(t-e)/e*100:0},y=function(t,e,n){var r=h(t,e),a=h(e,n);return[r,D(r,a)]},S=function(t,e,n){var r=t*k.h,a=e*k.h,o=t*k.b,c=e*k.b,u=n>0?e*k.b*k.i*100/n:0;return{totalFees24h:r,totalFees7d:a,lpFees24h:o,lpFees7d:c,lpApr7d:u!==1/0?u:0}},A=n(837),_=n(846),E=function(){var t=Object(l.a)(f.a.mark((function t(e){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Object(O.gql)(r||(r=Object(m.a)(["query overview {\n      glideFactories(\n        "," \n        first: 1) {\n        totalTransactions\n        totalVolumeUSD\n        totalLiquidityUSD\n      }\n    }"])),e?"block: { number: ".concat(e,"}"):""),t.next=4,Object(O.request)(j.c,n);case 4:return a=t.sent,t.abrupt("return",{data:a,error:!1});case 8:return t.prev=8,t.t0=t.catch(0),console.error("Failed to fetch info overview",t.t0),t.abrupt("return",{data:null,error:!0});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),w=function(t){return t?{totalTransactions:parseFloat(t.totalTransactions),totalVolumeUSD:parseFloat(t.totalVolumeUSD),totalLiquidityUSD:parseFloat(t.totalLiquidityUSD)}:null},P=function(){var t=Object(v.useState)({error:!1}),e=Object(p.a)(t,2),n=e[0],r=e[1],a=Object(A.a)(),o=Object(p.a)(a,2),c=o[0],u=o[1],i=Object(_.b)([c,u]),s=i.blocks,d=i.error,b=null!==s&&void 0!==s?s:[],m=Object(p.a)(b,2),O=m[0],j=m[1];return Object(v.useEffect)((function(){var t=function(){var t=Object(l.a)(f.a.mark((function t(){var e,n,a,o,c,u,i,s,d,l,b,v,m,k,h,S,A,_,P,T,U,g,x,F,C,q,R,I,N;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:return u=t.sent,i=u.error,s=u.data,t.next=7,E(null!==(e=null===O||void 0===O?void 0:O.number)&&void 0!==e?e:void 0);case 7:return d=t.sent,l=d.error,b=d.data,t.next=12,E(null!==(n=null===j||void 0===j?void 0:j.number)&&void 0!==n?n:void 0);case 12:v=t.sent,m=v.error,k=v.data,h=i||l||m,S=w(null===s||void 0===s||null===(a=s.glideFactories)||void 0===a?void 0:a[0]),A=w(null===b||void 0===b||null===(o=b.glideFactories)||void 0===o?void 0:o[0]),_=w(null===k||void 0===k||null===(c=k.glideFactories)||void 0===c?void 0:c[0]),P=S&&A&&_,h||!P?r({error:!0}):(T=y(S.totalVolumeUSD,A.totalVolumeUSD,_.totalVolumeUSD),U=Object(p.a)(T,2),g=U[0],x=U[1],F=D(S.totalLiquidityUSD,A.totalLiquidityUSD),C=y(S.totalTransactions,A.totalTransactions,_.totalTransactions),q=Object(p.a)(C,2),R=q[0],I=q[1],N={volumeUSD:g,volumeUSDChange:"number"===typeof x?x:0,liquidityUSD:S.totalLiquidityUSD,liquidityUSDChange:F,txCount:R,txCountChange:I},r({error:!1,data:N}));case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();!((null===O||void 0===O?void 0:O.number)&&(null===j||void 0===j?void 0:j.number))||d||n.data||t()}),[O,j,d,n]),n},T=n(843),U=Object(O.gql)(a||(a=Object(m.a)(["\n  query overviewCharts($startTime: Int!, $skip: Int!) {\n    glideDayDatas(first: 1000, skip: $skip, where: { date_gt: $startTime }, orderBy: date, orderDirection: asc) {\n      date\n      dailyVolumeUSD\n      totalLiquidityUSD\n    }\n  }\n"]))),g=function(){var t=Object(l.a)(f.a.mark((function t(e){var n,r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.request)(j.c,U,{startTime:k.f,skip:e});case 3:return n=t.sent,r=n.glideDayDatas,a=r.map(T.c),t.abrupt("return",{data:a,error:!1});case 9:return t.prev=9,t.t0=t.catch(0),console.error("Failed to fetch overview chart data",t.t0),t.abrupt("return",{error:!0});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(v.useState)(),e=Object(p.a)(t,2),n=e[0],r=e[1],a=Object(v.useState)(!1),o=Object(p.a)(a,2),c=o[0],u=o[1];return Object(v.useEffect)((function(){var t=function(){var t=Object(l.a)(f.a.mark((function t(){var e,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.a)(g);case 2:e=t.sent,(n=e.data)?r(n):u(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n||c||t()}),[n,c]),{error:c,data:n}},F=n(44),C=Object(O.gql)(o||(o=Object(m.a)(["\n  query overviewTransactions {\n    mints: mints(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    swaps: swaps(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    burns: burns(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n  }\n"]))),q=function(){var t=Object(l.a)(f.a.mark((function t(){var e,n,r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.request)(j.c,C);case 3:if(e=t.sent){t.next=6;break}return t.abrupt("return",void 0);case 6:return n=e.mints.map(T.d),r=e.burns.map(T.b),a=e.swaps.map(T.f),t.abrupt("return",[].concat(Object(F.a)(n),Object(F.a)(r),Object(F.a)(a)).sort((function(t,e){return parseInt(e.timestamp,10)-parseInt(t.timestamp,10)})));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",void 0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),R=q,I=function(){var t=Object(l.a)(f.a.mark((function t(e){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Object(O.gql)(c||(c=Object(m.a)(["\n      query topPools($blacklist: [String!], $timestamp24hAgo: Int) {\n        pairDayDatas(\n          first: 30\n          where: { dailyTxns_gt: 0, token0_not_in: $blacklist, token1_not_in: $blacklist, date_gt: $timestamp24hAgo }\n          orderBy: dailyVolumeUSD\n          orderDirection: desc\n        ) {\n          id\n        }\n      }\n    "]))),t.next=4,Object(O.request)(j.c,n,{blacklist:k.g,timestamp24hAgo:e});case 4:return r=t.sent,t.abrupt("return",r.pairDayDatas.map((function(t){return t.id.split("-")[0]})));case 8:return t.prev=8,t.t0=t.catch(0),console.error("Failed to fetch top pools",t.t0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(v.useState)([]),e=Object(p.a)(t,2),n=e[0],r=e[1],a=Object(A.a)(),o=Object(p.a)(a,1)[0];return Object(v.useEffect)((function(){var t=function(){var t=Object(l.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(o);case 2:e=t.sent,r(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();0===n.length&&t()}),[n,o]),n},$=n(6),L=function(t,e){var n=t?"block: {number: ".concat(t,"}"):"",r='["'.concat(e.join('","'),'"]');return"pairs(\n    where: { id_in: ".concat(r," }\n    ").concat(n,"\n    orderBy: trackedReserveELA\n    orderDirection: desc\n  ) {\n    id\n    reserve0\n    reserve1\n    reserveUSD\n    volumeUSD\n    token0Price\n    token1Price\n    token0 {\n      id\n      symbol\n      name\n    }\n    token1 {\n      id\n      symbol\n      name\n    }\n  }")},B=function(){var t=Object(l.a)(f.a.mark((function t(e,n,r,a,o){var c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=Object(O.gql)(u||(u=Object(m.a)(["\n      query pools {\n        now: ","\n        oneDayAgo: ","\n        twoDaysAgo: ","\n        oneWeekAgo: ","\n        twoWeeksAgo: ","\n      }\n    "])),L(null,o),L(e,o),L(n,o),L(r,o),L(a,o)),t.next=4,Object(O.request)(j.c,c);case 4:return i=t.sent,t.abrupt("return",{data:i,error:!1});case 8:return t.prev=8,t.t0=t.catch(0),console.error("Failed to fetch pool data",t.t0),t.abrupt("return",{error:!0});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n,r,a,o){return t.apply(this,arguments)}}(),W=function(t){return t?t.reduce((function(t,e){var n=e.volumeUSD,r=e.reserveUSD,a=e.reserve0,o=e.reserve1,c=e.token0Price,u=e.token1Price;return t[e.id]=Object($.a)(Object($.a)({},e),{},{volumeUSD:parseFloat(n),reserveUSD:parseFloat(r),reserve0:parseFloat(a),reserve1:parseFloat(o),token0Price:parseFloat(c),token1Price:parseFloat(u)}),t}),{}):{}},V=function(t){var e=Object(v.useState)({error:!1}),n=Object(p.a)(e,2),r=n[0],a=n[1],o=Object(A.a)(),c=Object(p.a)(o,4),u=c[0],i=c[1],s=c[2],d=c[3],b=Object(_.b)([u,i,s,d]),m=b.blocks,O=b.error,j=null!==m&&void 0!==m?m:[],k=Object(p.a)(j,4),h=k[0],E=k[1],w=k[2],P=k[3];return Object(v.useEffect)((function(){var e=function(){var e=Object(l.a)(f.a.mark((function e(){var n,r,o,c,u,i,s,d,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(h.number,E.number,w.number,P.number,t);case 2:n=e.sent,r=n.error,o=n.data,r?a({error:!0}):(c=W(null===o||void 0===o?void 0:o.now),u=W(null===o||void 0===o?void 0:o.oneDayAgo),i=W(null===o||void 0===o?void 0:o.twoDaysAgo),s=W(null===o||void 0===o?void 0:o.oneWeekAgo),d=W(null===o||void 0===o?void 0:o.twoWeeksAgo),l=t.reduce((function(t,e){var n=c[e],r=u[e],a=i[e],o=s[e],l=d[e],b=y(null===n||void 0===n?void 0:n.volumeUSD,null===r||void 0===r?void 0:r.volumeUSD,null===a||void 0===a?void 0:a.volumeUSD),f=Object(p.a)(b,2),v=f[0],m=f[1],O=y(null===n||void 0===n?void 0:n.volumeUSD,null===o||void 0===o?void 0:o.volumeUSD,null===l||void 0===l?void 0:l.volumeUSD),j=Object(p.a)(O,2),k=j[0],h=j[1],A=n?n.reserveUSD:0,_=D(null===n||void 0===n?void 0:n.reserveUSD,null===r||void 0===r?void 0:r.reserveUSD),E=n?n.reserve0:0,w=n?n.reserve1:0,P=S(v,k,A),T=P.totalFees24h,U=P.totalFees7d,g=P.lpFees24h,x=P.lpFees7d,F=P.lpApr7d;return n&&(t[e]={address:e,token0:{address:n.token0.id,name:n.token0.name,symbol:n.token0.symbol},token1:{address:n.token1.id,name:n.token1.name,symbol:n.token1.symbol},token0Price:n.token0Price,token1Price:n.token1Price,volumeUSD:v,volumeUSDChange:m,volumeUSDWeek:k,volumeUSDChangeWeek:h,totalFees24h:T,totalFees7d:U,lpFees24h:g,lpFees7d:x,lpApr7d:F,liquidityUSD:A,liquidityUSDChange:_,liquidityToken0:E,liquidityToken1:w}),t}),{}),a({data:l,error:!1}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=(null===h||void 0===h?void 0:h.number)&&(null===E||void 0===E?void 0:E.number)&&(null===w||void 0===w?void 0:w.number)&&(null===P||void 0===P?void 0:P.number);t.length>0&&n&&!O&&e()}),[t,h,E,w,P,O]),r},H=Object(O.gql)(i||(i=Object(m.a)(['\n  query prices($block24: Int!, $block48: Int!, $blockWeek: Int!) {\n    current: bundle(id: "1") {\n      elaPrice\n    }\n    oneDay: bundle(id: "1", block: { number: $block24 }) {\n      elaPrice\n    }\n    twoDay: bundle(id: "1", block: { number: $block48 }) {\n      elaPrice\n    }\n    oneWeek: bundle(id: "1", block: { number: $blockWeek }) {\n      elaPrice\n    }\n  }\n']))),K=function(){var t=Object(l.a)(f.a.mark((function t(e,n,r){var a,o,c,u,i,s,d,l,p;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.request)(j.c,H,{block24:e,block48:n,blockWeek:r});case 3:return p=t.sent,t.abrupt("return",{error:!1,elaPrices:{current:parseFloat(null!==(a=null===(o=p.current)||void 0===o?void 0:o.elaPrice)&&void 0!==a?a:"0"),oneDay:parseFloat(null!==(c=null===(u=p.oneDay)||void 0===u?void 0:u.elaPrice)&&void 0!==c?c:"0"),twoDay:parseFloat(null!==(i=null===(s=p.twoDay)||void 0===s?void 0:s.elaPrice)&&void 0!==i?i:"0"),week:parseFloat(null!==(d=null===(l=p.oneWeek)||void 0===l?void 0:l.elaPrice)&&void 0!==d?d:"0")}});case 7:return t.prev=7,t.t0=t.catch(0),console.error("Failed to fetch ELA prices",t.t0),t.abrupt("return",{error:!0,elaPrices:void 0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n,r){return t.apply(this,arguments)}}(),J=function(t,e){var n='["'.concat(e.join('","'),'"]'),r=t?"block: {number: ".concat(t,"}"):"";return"tokens(\n      where: {id_in: ".concat(n,"}\n      ").concat(r,"\n      orderBy: tradeVolumeUSD\n      orderDirection: desc\n    ) {\n      id\n      symbol\n      name\n      derivedELA\n      derivedUSD\n      tradeVolumeUSD\n      totalTransactions\n      totalLiquidity\n    }\n  ")},M=function(){var t=Object(l.a)(f.a.mark((function t(e,n,r,a,o){var c,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=Object(O.gql)(s||(s=Object(m.a)(["\n      query tokens {\n        now: ","\n        oneDayAgo: ","\n        twoDaysAgo: ","\n        oneWeekAgo: ","\n        twoWeeksAgo: ","\n      }\n    "])),J(null,o),J(e,o),J(n,o),J(r,o),J(a,o)),t.next=4,Object(O.request)(j.c,c);case 4:return u=t.sent,t.abrupt("return",{data:u,error:!1});case 8:return t.prev=8,t.t0=t.catch(0),console.error("Failed to fetch token data",t.t0),t.abrupt("return",{error:!0});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n,r,a,o){return t.apply(this,arguments)}}(),Y=function(t){return t?t.reduce((function(t,e){var n=e.derivedELA,r=e.derivedUSD,a=e.tradeVolumeUSD,o=e.totalTransactions,c=e.totalLiquidity;return t[e.id]=Object($.a)(Object($.a)({},e),{},{derivedELA:parseFloat(n),derivedUSD:parseFloat(r),tradeVolumeUSD:parseFloat(a),totalTransactions:parseFloat(o),totalLiquidity:parseFloat(c)}),t}),{}):{}},G=function(t){var e=Object(v.useState)({error:!1}),n=Object(p.a)(e,2),r=n[0],a=n[1],o=Object(A.a)(),c=Object(p.a)(o,4),u=c[0],i=c[1],s=c[2],d=c[3],b=Object(_.b)([u,i,s,d]),m=b.blocks,O=b.error,j=null!==m&&void 0!==m?m:[],k=Object(p.a)(j,4),S=k[0],E=k[1],w=k[2],P=k[3],T=function(){var t=Object(v.useState)(),e=Object(p.a)(t,2),n=e[0],r=e[1],a=Object(v.useState)(!1),o=Object(p.a)(a,2),c=o[0],u=o[1],i=Object(A.a)(),s=Object(p.a)(i,3),d=s[0],b=s[1],m=s[2],O=Object(_.b)([d,b,m]),j=O.blocks,k=O.error;return Object(v.useEffect)((function(){var t=function(){var t=Object(l.a)(f.a.mark((function t(){var e,n,a,o,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(p.a)(j,3),n=e[0],a=e[1],o=e[2],t.next=3,K(n.number,a.number,o.number);case 3:c=t.sent,i=c.elaPrices,c.error?u(!0):r(i);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n||c||!j||k||t()}),[c,n,j,k]),n}();return Object(v.useEffect)((function(){var e=function(){var e=Object(l.a)(f.a.mark((function e(){var n,r,o,c,u,i,s,d,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(S.number,E.number,w.number,P.number,t);case 2:n=e.sent,r=n.error,o=n.data,r?a({error:!0}):(c=Y(null===o||void 0===o?void 0:o.now),u=Y(null===o||void 0===o?void 0:o.oneDayAgo),i=Y(null===o||void 0===o?void 0:o.twoDaysAgo),s=Y(null===o||void 0===o?void 0:o.oneWeekAgo),d=Y(null===o||void 0===o?void 0:o.twoWeeksAgo),l=t.reduce((function(t,e){var n=c[e],r=u[e],a=i[e],o=s[e],l=d[e],b=y(null===n||void 0===n?void 0:n.tradeVolumeUSD,null===r||void 0===r?void 0:r.tradeVolumeUSD,null===a||void 0===a?void 0:a.tradeVolumeUSD),f=Object(p.a)(b,2),v=f[0],m=f[1],O=y(null===n||void 0===n?void 0:n.tradeVolumeUSD,null===o||void 0===o?void 0:o.tradeVolumeUSD,null===l||void 0===l?void 0:l.tradeVolumeUSD),j=Object(p.a)(O,1)[0],k=n?n.totalLiquidity*n.derivedUSD:0,S=r?r.totalLiquidity*r.derivedUSD:0,A=D(k,S),_=n?n.totalLiquidity:0,E=n?n.derivedELA*T.current:0,w=r?r.derivedELA*T.oneDay:0,P=o?o.derivedELA*T.week:0,U=D(E,w),g=D(E,P),x=h(null===n||void 0===n?void 0:n.totalTransactions,null===r||void 0===r?void 0:r.totalTransactions);return t[e]={exists:!!n,address:e,name:n?n.name:"",symbol:n?n.symbol:"",volumeUSD:v,volumeUSDChange:m,volumeUSDWeek:j,txCount:x,liquidityUSD:k,liquidityUSDChange:A,liquidityToken:_,priceUSD:E,priceUSDChange:U,priceUSDChangeWeek:g},t}),{}),a({data:l,error:!1}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=(null===S||void 0===S?void 0:S.number)&&(null===E||void 0===E?void 0:E.number)&&(null===w||void 0===w?void 0:w.number)&&(null===P||void 0===P?void 0:P.number);t.length>0&&n&&!O&&T&&e()}),[t,S,E,w,P,O,T]),r},z=function(){var t=Object(l.a)(f.a.mark((function t(e){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Object(O.gql)(d||(d=Object(m.a)(["\n      query topTokens($blacklist: [String!], $timestamp24hAgo: Int) {\n        tokenDayDatas(\n          first: 30\n          where: { dailyTxns_gt: 0, id_not_in: $blacklist, date_gt: $timestamp24hAgo }\n          orderBy: dailyVolumeUSD\n          orderDirection: desc\n        ) {\n          id\n        }\n      }\n    "]))),t.next=4,Object(O.request)(j.c,n,{blacklist:k.g,timestamp24hAgo:e});case 4:return r=t.sent,t.abrupt("return",r.tokenDayDatas.map((function(t){return t.id.split("-")[0]})));case 8:return t.prev=8,t.t0=t.catch(0),console.error("Failed to fetch top tokens",t.t0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),Q=function(){var t=Object(v.useState)([]),e=Object(p.a)(t,2),n=e[0],r=e[1],a=Object(A.a)(),o=Object(p.a)(a,1)[0];return Object(v.useEffect)((function(){var t=function(){var t=Object(l.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(o);case 2:e=t.sent,r(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();0===n.length&&t()}),[n,o]),n},X=n(832),Z=function(){var t=Object(X.j)(),e=Object(p.a)(t,2),n=e[0],r=e[1],a=P(),o=a.data,c=a.error,u=Object(X.i)(),i=Object(p.a)(u,2),s=i[0],d=i[1],b=x(),m=b.data,O=b.error,j=Object(X.k)(),k=Object(p.a)(j,2),h=k[0],D=k[1];return Object(v.useEffect)((function(){void 0===n&&o&&!c&&r(o)}),[c,o,n,r]),Object(v.useEffect)((function(){void 0===s&&m&&!O&&d(m)}),[s,O,m,d]),Object(v.useEffect)((function(){var t=function(){var t=Object(l.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:(e=t.sent)&&D(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();h||t()}),[h,D]),null},tt=function(){var t=Object(X.q)(),e=Object(X.a)(),n=Object(X.c)(),r=N();Object(v.useEffect)((function(){r.length>0&&e(r)}),[e,r]);var a=Object(v.useMemo)((function(){return Object.keys(n).reduce((function(t,e){return n[e].data||t.push(e),t}),[])}),[n]),o=V(a),c=o.error,u=o.data;return Object(v.useEffect)((function(){u&&!c&&t(Object.values(u))}),[c,u,t]),null},et=function(){var t=Object(X.r)(),e=Object(X.b)(),n=Object(X.d)(),r=Q();Object(v.useEffect)((function(){r.length>0&&e(r)}),[e,r]);var a=Object(v.useMemo)((function(){return Object.keys(n).reduce((function(t,e){return n[e].data||t.push(e),t}),[])}),[n]),o=G(a),c=o.error,u=o.data;return Object(v.useEffect)((function(){u&&!c&&t(Object.values(u))}),[c,u,t]),null}}}]);
//# sourceMappingURL=1.8db9f0e8.chunk.js.map